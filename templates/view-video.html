{% extends 'base.html' %}

{% block content %}
  <div class="row">
    <div class="col-7" id="iframe-container">
      <div class ="col-12" id="player" data-videoId = '{{video_details.id}}' data-user_id= "{{ session['user_id'] }}">
        <!-- video player will be inserted here by YT iframe API -->
      </div>
      <div class="row" id="video-details" data-video = '{{video_details.id}}' data-user_id= {{ session['user_id'] }} >
        <div class="col border">
          <div class="row pt-4">
            <div class="col-10 pl-4">
              <p> Video Title:<span id = "video-detail-title" class="font-weight-bold ml-2 mr-2">{{video_details.title}}</span></p>
              <p>Artist:<span id = "video-detail-artist" class="font-weight-bold ml-2 mr-2">{{video_details.artist}}</span></p>
              <p >Song:<span id = "video-detail-song" class="font-weight-bold ml-2 mr-2">{{video_details.song}}</span></p>
              {% if video_details.fav_id %}
                <p id="video-detail-notes-section" >Notes:
                  <span id = "video-detail-notes" class="font-weight-bold ml-2 mr-2">{{video_details.notes}}</span>
                </p>
              {% else %}
                <p id="video-detail-notes-section" class="hide" >Notes:
                <span id = "video-detail-notes" class="font-weight-bold ml-2 mr-2 hide">{{video_details.notes}}</span>
              {% endif %}
            </div>
            <div id="favorites" class="col-2 d-flex justify-content-center" {% if video_details.fav_id %} data-fav_id={{video_details.fav_id}} {% endif %} >
              {% if video_details.fav_id %}
                <p><i class="fas fa-heart"></i></p>
              {% else %}
                <p><i class="far fa-heart"></i></p>
              {% endif %}
            </div>
          </div>
        </div>
      </div>

    </div>


    <div class= "col-5" id="lyrics">
      <h1>Lyrics</h1>
      <form class="form-inline" id="lyrics-search-form">
        <div class="input-group input-group-sm">
          <label class="sr-only" for="artist">Artist</label>
          <input type="text" class="form-control mb-2 mr-sm-2" id="artist" placeholder="Artist Name" name="artist">
        </div>
        <label class="sr-only" for="song">Song Title</label>
        <div class="input-group input-group-sm mb-2 mr-sm-2">
          <input type="text" class="form-control" id="song" placeholder="Song Title" name="song">
        </div>
        <button type="submit" class="btn btn-primary btn-sm mb-2"><i class="fas fa-search"></i></button>
      </form>

      <div id='lyrics-content'>
        {% if lyrics %}
          {{lyrics | safe}} 
        {% else %}
          <div class="lyrics-search-results">
            No Lyrics found...Try refining your search criteria with lyrics search form above. 
          </div>
        {% endif %}
      </div>
    </div>
  </div>
      <!-- <button id="prior-video-btn">Back</button>
      <button id="pause-video-btn">Pause</button>
      <button id="stop-video-btn">Stop</button>
      <button id="play-video-btn">Play</button>
      <button id="next-video-btn">Forward</button> -->
    <!-- </div> -->
  <!-- </div> -->

<!-- ********************  MODAL WINDOW *************************************** -->
<!-- Modal -->
<div class="modal fade" id="fav-delete-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Delete from Favorites list</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p class="font-weight-bold text-center text-danger">Warning!</p>
        <p >This will delete this video and associated notes you may have added from your favorites list. </p>
        <p class="text-center">Do you want to proceed?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary d-flex justify-content-start" data-dismiss="modal">Close</button>
        <button id="video-detail-delete-fav" type="button" class="btn btn-danger">Delete</button>
      </div>
    </div>
  </div>
</div>
<!-- -------------------------------------Form Modal -------------------------------------------------- -->
<div class="modal fade" id="fav-save-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit/Save to Favorites</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="video-detail-fav-form">
          <div class="form-group">
            <label for="video-title" class="col-form-label">Video Title:</label>
            <input name="video-title" type="text" class="form-control" id="input-video-title">
          </div>
          <div class="form-group">
            <label for="artist-name" class="col-form-label">Artist:</label>
            <input name="artist-name" type="text" class="form-control" id="input-artist-name">
          </div>
          <div class="form-group">
            <label for="song-title" class="col-form-label">Song:</label>
            <input name="song-title" type="text" class="form-control" id="input-song-title">
          </div>
          <div class="form-group">
            <label for="note-area" class="col-form-label">Notes:</label>
            <textarea name="note-area" class="form-control" id="input-video-notes"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button id="video-detail-fav-submit" type="submit" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
</div>


<!-- --------------------------------------------------------------------------------------- -->

<!-- ********************  MODAL WINDOW *************************************** -->



  <script type="text/javascript" src="{{ url_for('static', filename='viewVideo.js') }}"></script>

{% endblock %}


